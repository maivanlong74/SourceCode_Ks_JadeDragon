@model Jade_Dragon.Models.NguoiDung

@{
    ViewBag.Title = "Create";
    Layout = "~/Areas/Admin/Views/Shared/LayoutAdmin.cshtml";
}
<style>
    form{
        margin-top: 0px !important;
    }
    .ht-avt {
        width: 250px;
        height: 250px;
        background: black;
        border: 1px solid wheat;
        margin-top: 90px;
        margin-left: 50px;
        overflow: hidden;
    }
    #anh-avt {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
</style>
<div class="home">
    <div class="body">

        <div class="Content" style=" margin-top: 90px;">
            @using (Html.BeginForm("Create", "QLKhachHang", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()
                <div class="ht-avt">
                    <img src="" id="anh-avt"/>
                </div>
                <div class="Info" style="margin-left: 110px;">
                    <div class="makh one">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    </div>
                    <div class="tenkh one">
                        <label for="">Avt: </label>
                        <input type="file" id="uploadhinh" name="uploadhinh" accept="image/*"
                               style=" color: aliceblue;" />
                    </div>
                    <div class="tenkh one">
                        <label for="">Tên Khách Hàng: </label>
                        @Html.EditorFor(model => model.HoTen, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.HoTen, "", new { @class = "text-danger" })
                    </div>
                    <div class="sdt one">
                        <label for="">Số điện thoại: </label>
                        @Html.EditorFor(model => model.SoDienThoai, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.SoDienThoai, "", new { @class = "text-danger" })
                    </div>
                    <div class="CMND one">
                        <label for="">CMND / Thẻ Căn cước công dân: </label>
                        @Html.EditorFor(model => model.CMND, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.CMND, "", new { @class = "text-danger" })
                    </div>
                    <div class="diachi one">
                        <label for="">Địa chỉ: </label>
                        @Html.EditorFor(model => model.DiaChi, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.DiaChi, "", new { @class = "text-danger" })

                        <label for="">Gmail: </label>
                        @Html.EditorFor(model => model.Gmail, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Gmail, "", new { @class = "text-danger" })
                    </div>
                    <div class="tendn one">
                        <label for="">Tên đăng nhập: </label>
                        @Html.EditorFor(model => model.TenDangNhap, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.TenDangNhap, "", new { @class = "text-danger" })

                        <label for="">Quản lý khách sạn: </label>
                        @Html.DropDownList("MaKhachSan", (IEnumerable<SelectListItem>)ViewBag.KhachSans, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.MaKhachSan, "", new { @class = "text-danger" })
                    </div>
                    <div class="matkhau one">
                        <label for="">Mật Khẩu: </label>
                        @Html.EditorFor(model => model.MatKhau, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.MatKhau, "", new { @class = "text-danger" })
                        <label for="">Cấp quyền: </label>
                        @Html.DropDownList("MaPhanQuyen", null, htmlAttributes: new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.MaPhanQuyen, "", new { @class = "text-danger" })
                    </div>
                    @Html.ValidationMessageFor(model => model.DaXacMinh, "", new { @class = "text-danger" })
                    <div class="one">
                        <input type="submit" class="save two" value="Lưu" >
                    </div>
                </div>
            }
            <div class="button">
                <a href="@Url.Action("QuanLyKh", "QLKhachHang")" class="out two">Quay về trang khách hàng</a>
            </div>
        </div>
    </div>
</div>
<script src="~/Areas/Admin/Public/js/ChucNang.js"></script>
<script>
    const image = document.getElementById("anh-avt");
    var input = document.getElementById("uploadhinh");

    input.addEventListener("change", () => {
        image.style.zIndex = "3";
        image.src = URL.createObjectURL(input.files[0]);
    });
</script>